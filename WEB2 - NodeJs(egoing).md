# ìƒí™œì½”ë”© WEB2 - Node.js

**ğŸ““ï¸ ë¬¸ì„œ/exercise/ìƒí™œì½”ë”©/web1_html_internet**

## 1. ìˆ˜ì—… ì†Œê°œ

- ì‚¬ëŒì´ ì§ì ‘ htmlì„ íƒ€ì´í•‘í•˜ì—¬ ë§Œë“¤ì–´ì•¼í–ˆë‹¤.
  -> í•˜ë‚˜í•˜ë‚˜ì˜ htmlêµ¬ì¡°ë¥¼ ë°”ê¾¸ë ¤ë©´ ì¼ì¼íˆ ìˆ˜ì •ì´ í•„ìš”í–ˆê³ , ìœ ì €ì™€ì˜ ìƒí˜¸ì‘ìš©ë„ í˜ë“¤ì–´ì§, ì„±ì¥ì˜ í•œê³„ì— ë´‰ì°©í•¨.
- ì´ëŸ° ì¶”ì„¸ì— ë”°ë¼ ì´ë¯¸ jsì— ìµìˆ™í•œ webê°œë°œìë“¤ì´ ìƒˆë¡œìš´ ì»´í“¨í„° ì–¸ì–´ë¥¼ ë°°ìš°ì§€ ì•Šê³ ë„ ìë™ìœ¼ë¡œ ì„œë²„ìª½(server side Application) webì„ ë§Œë“¤ê³ ì‹¶ì–´í•˜ì˜€ë‹¤.
- nodeJsê°€ë“±ì¥í•˜ì˜€ê³ , ë²„ì „ ì—…ì´ ë˜ë©´ì„œ, ì›¹ ë¸Œë¼ìš°ì € ë¿ë§Œì•„ë‹Œ ì»´í“¨í„° ìì²´ë¥¼ í†µì œí•˜ê¸° ì‹œì‘í•˜ì˜€ë‹¤.

## 5. Node.jsë¡œ ì›¹ì„œë²„ ë§Œë“¤ê¸° 

- [ìƒí™œì½”ë”© ë§í¬](https://opentutorials.org/module/3549/21032)

- Node.js ëŠ” Apacheì™€ ê°™ì´ ì›¹ ì„œë²„ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì™œë‚˜í•˜ë©´ ì›¹ì„œë²„ ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.
  ê·¸ëŸ¬í•œ íŠ¹ì„±ì„ ì´ìš©í•˜ë©´ Apache ì›¹ì„œë²„ë¡œ í•  ìˆ˜ ì—†ëŠ” ì¼ì„ í•  ìˆ˜ ìˆë‹¤! ì˜ˆë¥¼ë“¤ì–´

  ```javascript
  console.log( __dirname + url );
  //urlì— ë¬´ì—‡ì„ ë„£ëŠëƒì— ë”°ë¼ì„œ ê²½ë¡œë¥¼ ë‹¬ë¦¬ ì¤„ìˆ˜ ìˆë‹¤
  ```

  ìœ„ì™€ ê°™ì´ í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì „ì†¡ ë‚´ìš©ì„ ë°”ê¾¸ëŠ” ê²ƒì´ë‹¤.

## 9. URLì˜ ì´í•´

- ë‹¤ìŒ urlì„ ì˜ˆì‹œë¡œ ë³¼ ë•Œ  **http: opentutorials.org:3000/main?id=HTML?page=12**
  - **HTTP**ëŠ” í†µì‹ ê·œì¹™ì´ë‹¤.
    ì›¹ ë¸Œë¼ìš°ì €ì™€ ì›¹ ì„œë²„ê°€ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ê¸° ìœ„í•´ì„œ ë§Œë“  í†µì‹ ê·œì¹™ì´ë‹¤.
  - **opentutorials.org** ëŠ” host(domain) **í˜¸ìŠ¤íŠ¸, ë„ë©”ì¸**ì´ë‹¤.
    ì¸í„°ë„·ì— ì—°ê²°ë˜ì–´ìˆëŠ” ì»´í“¨í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì£¼ì†Œì¸ ê²ƒì´ë‹¤.
  - **3000**ì€ **í¬íŠ¸ë²ˆí˜¸**ì´ë‹¤.
    í•œëŒ€ì˜ ì»´í“¨í„° ì•ˆì— ì—¬ëŸ¬ëŒ€ì˜ ì„œë²„ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.
    í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ëŠ ì„œë²„ë¡œ ì ‘ì†í• ì§€ ì•ˆë‚´í•˜ëŠ” ë²ˆí˜¸ì™€ ê°™ë‹¤ê³  ì´í•´í•˜ì.
    (cf : ì„¤ì •í•˜ì§€ ì•Šì•˜ì„ ë•Œê¸°ë³¸ì€ 80ë²ˆ ì´ë‹¤.)
  - **/main**ì€ **path**ì´ë‹¤. ì–´ë–¤ ê²½ë¡œì˜ íŒŒì¼ì¸ê°€?
  - **?id=HTML?page=12** ëŠ” **ì¿¼ë¦¬ìŠ¤íŠ¸ë§**ì´ë‹¤.
    ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì˜ ê°’ì„ ë³€ê²½í•˜ë©´ ì›¹ì„œë²„ì—ê²Œ ë°ì´í„° ì „ë‹¬ì´ ê°€ëŠ¥í•˜ë‹¤.
    ë˜í•œ, ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì˜ ì‹œì‘ì€ ?ë¡œ í•˜ê¸°ë¡œ ì•½ì†ë˜ì–´ìˆë‹¤.

## 12. Node.jsì˜ íŒŒì¼ ì½ê¸° ê¸°ëŠ¥

#### CRUD(Create, Read, Update, Delete)

ë„¤ê°€ì§€ ì²˜ë¦¬ê°€ ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” í•µì‹¬ì ì¸ ì²˜ë¦¬ë°©ë²•ì´ë‹¤.
fileì„ ì–´ë–»ê²Œ í•˜ë©´ node.jsë¡œ ì½ê³ , ìƒì„±í•˜ê³ , ìˆ˜ì •í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆì„ê²ƒì¸ê°€?

**Google : nodeJs file read** : nodeJs ê³µì‹í™ˆí˜ì´ì§€ -> fs.readFile

````javascript
fs.readFile('sample.txt','utf-8',(err,data)=>{
   console.log(data); 
});
````

## 18. NodeJsì½˜ì†”ì—ì„œì˜ ì…ë ¥ê°’

**syntax/conditaional.js**

- **I/O**(Input, Output)

  - Input - parameter : ì…ë ¥ë˜ëŠ” ì •ë³´ì˜ í˜•ì‹
  - Input - Argument : ì‹¤ì œë¡œ ë°›ì€ ê°’

  inputê³¼ outputì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤. console ì—ì„œ ì…ë ¥ê°’ì„ ì£¼ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

  - **Google : nodejs console input parameters**
    `process.argv`ëª…ë ¹ì–´ë¥¼ í†µí•´ node ì‹¤í–‰ì‹œ nodeì •ë³´, íŒŒì¼ì •ë³´, consoleì…ë ¥ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
    ì…ë ¥ ê°’ì„ í™œìš©í•˜ì—¬ ë” í™•ì¥ì ì¸ console í™œìš©ê³¼ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•˜ë‹¤.

## 19. Appì œì‘ - Not found, í™ˆí˜ì´ì§€ êµ¬í˜„

```javascript
const pathName = url.parse(_url, true).pathname;
```

- pathNameì„ ì´ìš©í•˜ì—¬ 404ë¥¼ êµ¬í˜„í•˜ì˜€ê³ , pathê°€ root('/')ë¥¼ ë²—ì–´ë‚˜ë©´ `response.end(404)`ë¡œ êµ¬í˜„í•˜ì˜€ë‹¤.
- `fs.readFile`ì€ `queryData`ë¥¼ í†µí•´ ë¶ˆëŸ¬ì˜¤ëŠ”ë°, ì´ íŒŒì¼ì´ `undefined`ë¼ë©´ í™ˆí˜ì´ì§€(ë”°ë¡œ êµ¬í˜„ë˜ì–´ìˆì§€ ì•ŠìŒ)ì´ë¯€ë¡œ, ì œëª©ì˜ì—­`title`ê³¼ ì„¤ëª…`description`ì„ ë”°ë¡œ í• ë‹¹í•´ì£¼ëŠ” í˜•ì‹ìœ¼ë¡œ í™ˆí˜ì´ì§€ë¥¼ êµ¬í˜„í•¨

## 23. Node.jsì—ì„œ íŒŒì¼ëª©ë¡ ì•Œì•„ë‚´ê¸°

**google : nodejs file list in directory**

```javascript
//fs.readdir
const testFolder = './tests/';
const fs = require('fs');

//read dir
fs.readdir(testFolder, (err, files)=>{
    files.forEach( file =>{
       console.log(file); 
    });
})
```

**ğŸ““ï¸nodejs/readdir.js**

## 24. App ì œì‘ - ê¸€ëª©ë¡ ì¶œë ¥í•˜ê¸°

ì•ì„œ ìˆ˜ì—…ì—ì„œ í•™ìŠµí–ˆë˜ fs.readdirë¥¼ í†µí•´ íŒŒì¼ ëª©ë¡ì„ ë°›ì•„ì™€, aíƒœê·¸ì™€ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ template literalì„ í†µí•´ htmlíƒœê·¸ë¡œ ì¶œë ¥í•¨!

## 26. App ì œì‘ - í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì •ë¦¬ì •ëˆí•˜ê¸°

ê¸°ëŠ¥ë‹¨ìœ„ë¡œ functionì„ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì´ê³  ì‹¬í”Œí•˜ê²Œ ë§Œë“¬!

## 28.Nodejsì—ì„œ ë™ê¸°ì™€ ë¹„ë™ê¸°(Synchronous & asychronous)

- ë™ê¸°ì ì¸ ë°©ì‹ : í•œê°€ì§€ ì¼ì„ ëë‚ ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì²˜ë¦¬
  ë¹„ë™ê¸°ì  ë°©ì‹ : ë³‘ë ¬ì ìœ¼ë¡œ ì§„í–‰! - íš¨ìœ¨ì ì´ì§€ë§Œ, ë§¤ìš° ë³µì¡í•¨!

- Node.js ê³µì‹ë¬¸ì„œì—ì„œì˜ ì˜ˆì‹œ

  - `fs.readFile(path[,options], callback)`
  - `fs.readFileSync(path[,options])`

  ë™ê¸° ë°©ì‹ì˜ ê²½ìš° callbackí•¨ìˆ˜ê°€ ì—†ëŠ”ê²ƒì— ìœ ì˜í•˜ì. ë˜í•œ, ê¸°ë³¸ì ì¸ ì˜µì…˜ì´ ë¹„ë™ê¸°ì¸ê²ƒì„ ë³´ì•„ nodeìì²´ê°€ ë¹„ë™ê¸°ì ì¸ ë°©ì‹ì„ ë” ì„ í˜¸í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

- ğŸ““ï¸syntax/sync.js
  íŒŒì¼ ê²½ë¡œëŠ” í˜„ì¬ íŒŒì¼ì´ ì•„ë‹ˆë¼, nodeì˜ ì‹¤í–‰ ìœ„ì¹˜ì— ë”°ë¼ ê°ˆë¦°ë‹¤.

- ë™ê¸°ì ì¸ ë°©ì‹

  ```javascript
  const fs = require('fs');
  
  console.log('A');
  const result = fs.readFileSync('syntax/sample.txt', 'utf-8');
  console.log(result);
  console.log('C')
  ```

  ì‹¤í–‰ê²°ê³¼ëŠ” `ABC`

- ë¹„ë™ê¸°ì ì¸ ë°©ì‹
  **ë™ê¸°ì  ë°©ì‹ì€ returnê°’ì´ ìˆì§€ë§Œ, ë¹„ë™ê¸°ì ì¸ ë°©ì‹ì€ returnê°’ì´ ì—†ë‹¤.**

  ```javascript
  const fs = require('fs');
  
  console.log('A');
  fs.readFile('syntax/sample.txt', 'utf-8', (err, result)=>{
     console.log(result); 
  });
  console.log('C');
  ```

  ê²°ê³¼ëŠ” `ACB`

- **Callback : ì•ì„œ ì‘ì—… í›„ ì¶”ìš°ì— ì‹¤í–‰í•˜ë¼ëŠ” í•¨ìˆ˜** ë¼ê³  ìƒê°í•˜ì.
   ğŸ““ï¸syntax/callback.js

## 29. Node.jsì˜ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì™€ PM2

### Package Manager

- swë“¤ì„ ì„¤ì¹˜, ê´€ë¦¬, ì—…ë°ì´íŠ¸, ì‚­ì œí•´ì£¼ëŠ” í”„ë¡œê·¸ë¨ì´ë‹¤.
  - NPM : nodeJsì—ì„œ ê°€ì¥ ê´‘ë²”ìœ„í•˜ê²Œ ì‚¬ìš©í•˜ê³  ìˆëŠ” íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì´ë‹¤.
  -  PM2 : production process manager for Node.js
    PM2ë¥¼ ì´ìš©í•˜ë©´ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨(node jsë¡œ ë§Œë“  í”„ë¡œê·¸ë¨ - main.js)ì„ êº¼ì§€ë©´ ë‹¤ì‹œì¼œì¤€ë‹¤.
    pm2ê°€ íŒŒì¼ì´ ìˆ˜ì •ì´ ë˜ëŠ”ì§€ ê´€ì°°í•˜ê³  ìˆë‹¤ê°€ íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ ê»ë‹¤ê°€ ë‹¤ì‹œ ì¼œì£¼ê¸°ë„í•œë‹¤. 
    Nodemoneê°™ì€ ì¹œêµ¬ì¸ê²ƒ ê°™ë‹¤. ì‚¬ìš©ë²• ë° ëª…ë ¹ì–´ëŠ” `ë©”ëª¨.md`ì™€ êµ¬ê¸€ë§ ì°¸ì¡°

## 32. Appì œì‘ - POSTë°©ì‹ìœ¼ë¡œ ì „ì†¡ëœ ë°ì´í„° ë°›ê¸°

- post qkdtlrdmfh ì‚¬ìš©ìê°€ ì „ì†¡í•œ ê°’ì„ ì–´ë–»ê²Œ ë°›ì„ê²ƒì¸ê°€?
  **Google : nodeJs post data**

  ```javascript
  const qs = require('querystring');
  
  function(request, response){
      if(request.method === 'POST'){
          let body = '';
           /*
           ì›¹ ë¸ŒëŸ¬ìš°ì €ê°€ Post ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡ í•  ë•Œ 
           ë°ì´í„°ê°€ ì—„ì²­ë‚˜ê²Œ ë§ìœ¼ë©´ ë°ì´í„°ë¥¼ í•œë²ˆì— ì²˜ë¦¬í•  ë•Œ ë¬´ë¦¬ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.
           ë”°ë¼ì„œ nodeJsì—ì„œëŠ” post ì „ì†¡ë°©ì‹ì˜ ë°ì´í„°ê°€ ë§ì„ ê²ƒì„ ëŒ€ë¹„í•˜ì—¬ ì•„ë˜ì˜ ì‚¬ìš©ë°©ë²•ì„ ì œê³µí•˜ê³ ìˆë‹¤.
           ì¡°ê°ì¡°ê°ì˜ ë°ì´í„°ë“¤ì„ ì„œë²„ì—ì„œ ìˆ˜ì‹ í•  ë•Œ ë§ˆë‹¤ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ì•½ì†ë˜ì–´ìˆë‹¤.
           ë˜í•œ, dataë¼ëŠ” ì¸ìë¥¼ í†µí•˜ì—¬ ìˆ˜ì‹ í•˜ë„ë¡ ì•½ì†ë˜ì–´ìˆë‹¤.
         */
          request.on('data',(data)=>{
              body += data;
              if(body.length > 1e6) request.connection.destroy();
              /*
              ì´ë ‡ê²Œ ì „ì†¡ëœ ë°ì´í„°ê°€ ë„ˆë¬´ í¬ë‹¤ë©´ ìš”ì²­ì„ ëŠì–´ë²„ë¦¬ëŠ” ì½”ë“œì´ë‹¤.
              ì¼ì¢…ì˜ ë³´ì•ˆì¥ì¹˜ì´ë©° ì—†ì–´ë„ ë¬´ë°©í•˜ë‹¤.
              */
          });
          
          request.on('end',() =>{
              const post = qs.parse(body);
              /*
              ëª¨ë“ˆì˜ í•¨ìˆ˜ ì¤‘ parseë¼ëŠ” í•¨ìˆ˜ì—ë‹¤ê°€ 
              ì§€ê¸ˆê¹Œì§€ ì €ì¥í•œ bodyë¥¼ ì…ë ¥ê°’ìœ¼ë¡œ ì£¼ë©´ post ì •ë³´ë¥¼ ì¤€ë‹¤!
              */
              const title = post.title;
              //ì„¤ì •í•œ InputTagì˜ nameì†ì„±ìœ¼ë¡œ ë“¤ì–´ì˜¨ë‹¤.
          });
      }
  }
  ```



## 33. Appì œì‘ - íŒŒì¼ ìƒì„±ê³¼ ë¦¬ë‹¤ì´ë ‰ì…˜

- íŒŒì¼ìƒì„± : **Google : fs.writeFile**
  **fs.writeFile(file, data[,options],callback)** - optionsëŠ” utf8ì„ ì£¼ë©´ëœë‹¤!

  ```javascript
  const fs = require('fs');
  
  fs.writeFile('message.txt','Hello Node js',(error)=>{
      if(err) throw err;
      console.log('The file has been saved!');
  })
  ```

- ë¦¬ë‹¤ì´ë ‰ì…˜

  ```javascript
  response.writeHead(302,{Location : `/?id=${title}`});
  response.end()
  ```

  cf ) 302ëŠ” í˜ì´ì§€ ë¦¬ë‹¤ì—ë ‰ì…˜ ì½”ë“œì´ë‹¤.

## 36. Appì œì‘ - íŒŒì¼ëª… ë³€ê²½, ë‚´ìš© ì €ì¥

- **Google : nodeJS file rename**

  ```javascript
  const fs = require('fs');
  
  fs.rename(oldPath, newPath, callback);
  ```

## 37. Appì œì‘ - ê¸€ì‚­ì œ

- ì‚­ì œì˜ ê²½ìš° ì ˆëŒ€ getë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤.
  formíƒœê·¸ë¡œ ë§Œë“¤ì–´ idë¥¼ submit í•´ì£¼ë©´ titleì„ idë¡œ ë°›ì•„ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ê²ƒì´ë‹¤.
  ì´ ê²½ìš° formíƒœê·¸ì˜ Onsubmitê¸°ëŠ¥ì„ ì´ìš©í•´ jsì½”ë“œë¥¼ ì‚½ì…í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¶”í›„ ë‹¤ì‹œí•œë²ˆ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ ë„£ì„ ìˆ˜ ë„ ìˆì„ê²ƒì´ë‹¤.

- íŒŒì¼ ì‚­ì œ
  **Google : nodejs delete file**

  ````javascript
  const fs = require('fs');
  
  fs.unlink('path/file.txt',(err)=>{
      if(err) throw err;
      console.log('path/file.txt was delete');
  });
  ````

## 43. Appì œì‘ - í…œí”Œë¦¿ ê¸°ëŠ¥ ì •ë¦¬ì •ëˆí•˜ê¸°

- ë§Œë“¤ë’€ë˜ functionë“¤ì„ objectë¥¼ í†µí•´ ì •ë¦¬í•¨!
- ë¦¬í™í† ë§ì˜ í•„ìš”ì„± : ì¼ë‹¨ ì§œê³ , ì¶”í›„ì— ê³ ì¹˜ëŠ”ê²ƒ ë¶€í„° ì‹œì‘í•˜ì.
  ì‹œì‘ë¶€í„° ì™„ë²½í• ìˆœ ì—†ë‹¤.

## 44. Node.js ëª¨ë“ˆì˜ í˜•ì‹

**ğŸ““ï¸node.js/muse.js**, **ğŸ““ï¸node.js/mpart.js**

````javascript
module.exports = M;
````

moduleì´ë¼ê³  í•˜ëŠ” ì•½ì†ëœ ê°ì²´ë¥¼ í†µí•´ Mì´ ê°€ë¥´í‚¤ëŠ” ê²ƒì„ íŒŒì¼ ë°–ì—ì„œ ì‚¬ìš© í•  ìˆ˜ ìˆê²Œ í•´ì£¼ê² ë‹¤ëŠ” ì•½ì†ì´ë‹¤.
ëª¨ë“ˆì„ ê°€ì ¸ì˜¬ ë•ŒëŠ” requireì´ í•„ìš”í•˜ë‹¤.

## 46. Appì œì‘ - ì…ë ¥ì •ë³´ì— ëŒ€í•œ ë³´ì•ˆ

- **Goole: noejs path parse**

  ````javascript
  path.parse('/home/user/dir/file.txt');
  
  //ì´ë¥¼ ë°›ì•„ ì½˜ì†”ì„ ì°ì–´ë³´ë©´
  /*
      Return : {
      root: '/',
      dir:'/home/user/dir',
      base:'file.txt',
      ext :'.txt',
      name:'file'
      }
  */
  ````

  `base`ëŠ” ìµœí•˜ìœ„ ê²½ë¡œë§Œ ë°›ì•„ì˜¨ë‹¤.
  ë”°ë¼ì„œ **base**ì‚¬ìš©ì‹œ ê²½ë¡œ ì„¸íƒì´ ê°€ëŠ¥í•  ê²ƒì´ë‹¤.

- ì‚¬ìš©ìì—ê²Œì„œ ë“¤ì–´ì˜¤ëŠ” ê²½ë¡œ ì •ë³´ì™€ ì¶œë ¥ë˜ëŠ” ê²½ë¡œ ì •ë³´ëŠ” ëª¨ë‘ ì˜ì‹¬í•  í•„ìš”ê°€ ìˆë‹¤.

  ````javascript
  const path = require('path');
  const filteredId = path.parse(queryData.id).base;
  //ê²½ë¡œì •ë³´ì— ëª¨ë‘ filteredIdë¥¼ ë„£ì–´ì•¼í•œë‹¤.
  ````

  

## 47. Appì œì‘ - ì¶œë ¥ì •ë³´ì— ëŒ€í•œ ë³´ì•ˆ

- XSS : Cross Site Scripting -> scriptíƒœê·¸ë¥¼ ì‚½ì…í•¨ìœ¼ë¡œì„œ ì¼ì–´ ë‚  ìˆ˜ ìˆëŠ” ë³´ì•ˆë¬¸ì œì´ë‹¤.
  í•´ê²°ë°©ë²•

  1. ì§ì ‘ ì—´ì–´ì„œ scriptë¥¼ ì§€ì›Œë²„ë¦¼
  2. êº½ì‡„ë¥¼ ì›¹ë¸Œë¼ìš°ì €ì— í‘œì‹œí•¨! -> `HTML entyties`
     ì´ ê²½ìš° ì´ë¯¸ ë§Œë“¤ì–´ì§„ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ ì´ìš©í•  ìˆ˜ ìˆìŒ!
     **npm sanitize html**

- npm init : í”„ë¡œì íŠ¸ë¥¼ npmìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì‹œì‘
  ì•„ë¬´ ëª¨ë“ˆì„ ì“°ëŠ” ê²ƒì€ ë¹„ì¶”ì²œí•˜ë©° í‰íŒì„ ë³´ê³  ì´ìš©í•˜ê¸¸ ì¶”ì²œí•¨.

- `npm install -S sanitize-html`

- ì„¤ì¹˜ ì´í›„ dependenciesëª©ë¡ì— ë“±ë¡ëœë‹¤.
  ì´ê²ƒì„ ì„¤ì¹˜í•˜ë©´ ì´ í”„ë¡œì íŠ¸ê°€ sanitize-htmlì— ì˜ì¡´í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
  í•œê°€ì§€ ëª¨ë“ˆì„ ì„¤ì¹˜í•´ë„ ì—¬ëŸ¬ê°œê°€ ìƒê¸°ëŠ” ì´ìœ ëŠ”, ì„¤ì¹˜í•œ ëª¨ë“ˆì´ ì˜ì¡´í•˜ê³  ìˆëŠ” ì—¬ëŸ¬ê°€ì§€ ëª¨ë“ˆë“¤ì´ í•¨ê»˜ ì„¤ì¹˜ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

- ëª¨ë“ˆì˜ ì‚¬ìš©ë²•ì€ **ëª¨ë“ˆ ì•ˆë‚´ì„œ**ì— ì˜ ì í˜€ìˆë‹¤.

  ````javascript
  var sanitizeHtml = require('sanitize-html');
  var clean = sanitizeHtml(dirty);
  ````

  íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê³³ì—ì„œë§Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
  ì˜ ì ìš©í•˜ë©´ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ëŠ” ë¶ˆëŸ¬ì˜¤ì§€ ì•Šìœ¼ë©°, ì¼ë°˜ì ì¸ htmlíƒœê·¸ëŠ” íƒœê·¸ë§Œ ì—†ì—ê³  ë‚´ìš©ì€ ì‚´ë ¤ì¤€ë‹¤.
  ë” ë””í…Œì¼ í•œ ì„¤ì •ì„ ë³´ê¸° ìœ„í•´ì„œëŠ” ëª¨ë“ˆ ì„¤ëª…ì„œë¥¼ ì •ë…í•˜ë©´ ì•Œ ìˆ˜ ìˆë‹¤.(ì‰½ë‹¤ê³ ëŠ” í•˜ì§€ ì•ŠìŒ)

## 48. APIì™€ Create Server

### API : Application Programming Interface

- nodeJsì˜ ë²„ì „ ì„¤ëª…ì„œì— ë“¤ì–´ê°€ë©´ nodeëª¨ë“ˆë“¤ì˜ ì„¤ëª… ë° ê¸°ëŠ¥ë“¤ì´ ë‚˜ì˜¨ë‹¤.
- ì¼ë‹¨ createServer ë§Œ ê°„ë‹¨íˆ ì •ë¦¬í•˜ê³  ë„˜ì–´ê°ˆê²ƒì´ë‹¤.
- `http.createServer([requestListener])` ëŒ€ê´„í˜¸ëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤.
  requestListenerëŠ” `function`ì´ë©°, **ì™¸ë¶€ì—ì„œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ ë§ˆë‹¤ ì¸ìì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤**ëŠ” ê²ƒì´ë‹¤.
  ì²«ë²ˆì§¸ ì¸ìëŠ” `request`, ë‘ë²ˆì§¸ ì¸ìëŠ” `response`ì´ë‹¤.
- `createServer`ëŠ” returnê°’ìœ¼ë¡œ http.serverë¥¼ ë°˜í™˜í•œë‹¤.
  http.server ëŠ”???
  app.listen-> server.listen()
  Start the HTTP server listening for conections
  This methods is identical to server.listen() from net.Server

## 49. ë¶€ë¡ - pm2 ë³´ì¶©í•™ìŠµ